<div class="container py-4">
  <h2>My Orders</h2>

  <% if @orders.any? %>
    <% @orders.each do |order| %>
      <div class="card mb-3">
        <div class="card-header">
          <div class="d-flex justify-content-between align-items-center">
            <div>
              <strong>Order #<%= order.id %></strong>
              <small class="text-muted">- <%= order.created_at.strftime("%B %d, %Y") %></small>
            </div>
            <span class="badge bg-<%= order.status == 'pending' ? 'warning' : 'success' %>">
              <%= order.status.titleize %>
            </span>
          </div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-8">
              <h6>Items:</h6>
              <% order.order_items.each do |item| %>
                <div class="mb-1">
                  <%= item.product.name %> Ã— <%= item.quantity %>
                  <small class="text-muted">($<%= item.unit_price %> each)</small>
                </div>
              <% end %>
            </div>
            <div class="col-md-4 text-end">
              <div class="mb-2">
                <strong>Total: $<%= order.total_price %></strong>
              </div>
              <%= link_to "View Details", order_path(order), class: "btn btn-outline-primary btn-sm" %>
            </div>
          </div>
        </div>
      </div>
    <% end %>
  <% else %>
    <div class="text-center py-5">
      <h4>No orders yet</h4>
      <p class="text-muted mb-4">When you place orders, they'll appear here.</p>
      <%= link_to "Start Shopping", products_path, class: "btn btn-primary" %>
    </div>
  <% end %>
</div>
